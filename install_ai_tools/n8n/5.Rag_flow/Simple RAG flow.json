{
  "name": "Simple RAG flow",
  "nodes": [
    {
      "parameters": {
        "formTitle": "Upload file(s) here",
        "formDescription": "pdf or txt files",
        "formFields": {
          "values": [
            {
              "fieldLabel": "uploadFile",
              "fieldType": "file",
              "acceptFileTypes": ".pdf, .txt",
              "requiredField": true
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 2.2,
      "position": [
        -448,
        -64
      ],
      "id": "7e6507f1-e787-42f5-a12d-703d3c011f8b",
      "name": "Upload files",
      "webhookId": "ab56d95a-7b22-4f15-b6b3-0638a313200b"
    },
    {
      "parameters": {
        "mode": "insert",
        "memoryKey": {
          "__rl": true,
          "mode": "list",
          "value": "vector_store_key"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreInMemory",
      "typeVersion": 1.3,
      "position": [
        -240,
        -64
      ],
      "id": "d32b035a-38bf-48c1-95a6-14ecce0571ed",
      "name": "Simple Vector Store"
    },
    {
      "parameters": {
        "model": "nomic-embed-text:latest"
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOllama",
      "typeVersion": 1,
      "position": [
        -240,
        224
      ],
      "id": "547db52e-63b2-412b-9a26-ce4ba4b9fa46",
      "name": "Embeddings Ollama",
      "credentials": {
        "ollamaApi": {
          "id": "rZmLmo4yB00xSTKo",
          "name": "Ollama account"
        }
      }
    },
    {
      "parameters": {
        "dataType": "binary",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "typeVersion": 1.1,
      "position": [
        -64,
        112
      ],
      "id": "e4979f6d-1e7e-415e-bf34-9ecdff6fe7db",
      "name": "Default Data Loader"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        336,
        16
      ],
      "id": "7e2f0d91-a9cb-4097-9e58-24fd15b8dd11",
      "name": "When chat message received",
      "webhookId": "f43c0024-0db3-40b5-81fe-83cdc20d614b"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "You are an expert in answering questions after extracting information from the provided 'Simple Vector Store1' on the game of football. You only answer from the extracted context and not from your own knowledge. In case the extracted contextual information from 'Simple Vector Store1' does not answer the user's query, you simply say 'I do not know'."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.1,
      "position": [
        544,
        16
      ],
      "id": "74dc0aed-ce91-4543-b5b5-327027d8df4a",
      "name": "AI Agent"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        560,
        224
      ],
      "id": "45dcd4c6-f5b0-4b9f-87f5-c33df9925318",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "Retrieves information pertaining to the game of football",
        "memoryKey": {
          "__rl": true,
          "mode": "list",
          "value": "vector_store_key"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreInMemory",
      "typeVersion": 1.3,
      "position": [
        736,
        304
      ],
      "id": "87d296e1-a13b-4840-8532-58f648d1a399",
      "name": "Simple Vector Store1"
    },
    {
      "parameters": {
        "content": "Prepare vector store\n",
        "height": 464,
        "width": 688
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -528,
        -112
      ],
      "typeVersion": 1,
      "id": "44c68e31-d8f3-4a14-a69e-86209e818c04",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "content": "Extract information on query",
        "height": 544,
        "width": 752,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        272,
        -112
      ],
      "typeVersion": 1,
      "id": "f64e8b61-1124-4a64-9b62-6178a2dcc66b",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "content": "### System message in AI Agent:\nYou are an expert in answering questions after extracting information from the provided 'Simple Vector Store1' on the game of football. You only answer from the extracted context and not from your own knowledge. In case the extracted contextual information from 'Simple Vector Store1' does not answer the user's query, you simply say 'I do not know'.\n\n### Retriever tool description\nRetrieves information pertaining to the game of football",
        "height": 176,
        "width": 1200,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -528,
        -304
      ],
      "typeVersion": 1,
      "id": "4ef6ed48-e9fa-4f4b-990c-dcaae38f3b81",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOllama",
      "typeVersion": 1,
      "position": [
        432,
        288
      ],
      "id": "f009c2e6-a225-4e31-9c5e-f87ab4e9643a",
      "name": "Ollama Chat Model llama3.2",
      "credentials": {
        "ollamaApi": {
          "id": "rZmLmo4yB00xSTKo",
          "name": "Ollama account"
        }
      }
    },
    {
      "parameters": {
        "content": "## Questions\na. Tell me about the history of India\nb. Tell me about the game of billiards\nc. Tell me about history of football",
        "height": 176,
        "width": 368,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        672,
        -304
      ],
      "typeVersion": 1,
      "id": "19e154fe-9ddd-4c25-9c4c-5c357aafea5d",
      "name": "Sticky Note3"
    }
  ],
  "pinData": {},
  "connections": {
    "Upload files": {
      "main": [
        [
          {
            "node": "Simple Vector Store",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Ollama": {
      "ai_embedding": [
        [
          {
            "node": "Simple Vector Store",
            "type": "ai_embedding",
            "index": 0
          },
          {
            "node": "Simple Vector Store1",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Default Data Loader": {
      "ai_document": [
        [
          {
            "node": "Simple Vector Store",
            "type": "ai_document",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Simple Vector Store1": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Ollama Chat Model llama3.2": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "355bf462-877e-44ad-9c27-1df2af27eceb",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "3456049ae38c55a86821404f4283aba56f501f6d40748d306be192fa247bdcad"
  },
  "id": "UDaKYwO7wAgN6L6G",
  "tags": []
}